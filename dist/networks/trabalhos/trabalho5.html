<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>RIP - Trabalho prático 5 | eSebenta</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="Solved Exercise Book">
    <link rel="preload" href="/assets/css/0.styles.2bd6ee66.css" as="style"><link rel="preload" href="/assets/js/app.e2fdf639.js" as="script"><link rel="preload" href="/assets/js/2.c85d2869.js" as="script"><link rel="preload" href="/assets/js/25.42c75a60.js" as="script"><link rel="prefetch" href="/assets/js/10.3306bff9.js"><link rel="prefetch" href="/assets/js/11.b4a4842b.js"><link rel="prefetch" href="/assets/js/12.cbb66340.js"><link rel="prefetch" href="/assets/js/13.d5072edf.js"><link rel="prefetch" href="/assets/js/14.7a020320.js"><link rel="prefetch" href="/assets/js/15.8ed19d8f.js"><link rel="prefetch" href="/assets/js/16.98080a2d.js"><link rel="prefetch" href="/assets/js/17.ee24e33a.js"><link rel="prefetch" href="/assets/js/18.6f2b1807.js"><link rel="prefetch" href="/assets/js/19.1b3c1959.js"><link rel="prefetch" href="/assets/js/20.44250d36.js"><link rel="prefetch" href="/assets/js/21.4b966306.js"><link rel="prefetch" href="/assets/js/22.a65e6ecf.js"><link rel="prefetch" href="/assets/js/23.87597ddf.js"><link rel="prefetch" href="/assets/js/24.0c688e0e.js"><link rel="prefetch" href="/assets/js/26.5b32a3f0.js"><link rel="prefetch" href="/assets/js/27.70737bac.js"><link rel="prefetch" href="/assets/js/28.464a4755.js"><link rel="prefetch" href="/assets/js/29.eb365bf5.js"><link rel="prefetch" href="/assets/js/3.2f055b36.js"><link rel="prefetch" href="/assets/js/30.ea2b573b.js"><link rel="prefetch" href="/assets/js/31.a5d6e31d.js"><link rel="prefetch" href="/assets/js/32.aac14855.js"><link rel="prefetch" href="/assets/js/4.8499661f.js"><link rel="prefetch" href="/assets/js/5.518d2f3f.js"><link rel="prefetch" href="/assets/js/6.a2862383.js"><link rel="prefetch" href="/assets/js/7.e232f852.js"><link rel="prefetch" href="/assets/js/8.9a8bb719.js"><link rel="prefetch" href="/assets/js/9.86d0102f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2bd6ee66.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">eSebenta</span></a> <div class="links"><!----> <div class="user-settings"><a href="#" class="settings-button"><svg aria-hidden="true" data-prefix="fas" data-icon="cog" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-cog fa-w-16 settings-icon"><path fill="currentColor" d="M444.788 291.1l42.616 24.599c4.867 2.809 7.126 8.618 5.459 13.985-11.07 35.642-29.97 67.842-54.689 94.586a12.016 12.016 0 0 1-14.832 2.254l-42.584-24.595a191.577 191.577 0 0 1-60.759 35.13v49.182a12.01 12.01 0 0 1-9.377 11.718c-34.956 7.85-72.499 8.256-109.219.007-5.49-1.233-9.403-6.096-9.403-11.723v-49.184a191.555 191.555 0 0 1-60.759-35.13l-42.584 24.595a12.016 12.016 0 0 1-14.832-2.254c-24.718-26.744-43.619-58.944-54.689-94.586-1.667-5.366.592-11.175 5.459-13.985L67.212 291.1a193.48 193.48 0 0 1 0-70.199l-42.616-24.599c-4.867-2.809-7.126-8.618-5.459-13.985 11.07-35.642 29.97-67.842 54.689-94.586a12.016 12.016 0 0 1 14.832-2.254l42.584 24.595a191.577 191.577 0 0 1 60.759-35.13V25.759a12.01 12.01 0 0 1 9.377-11.718c34.956-7.85 72.499-8.256 109.219-.007 5.49 1.233 9.403 6.096 9.403 11.723v49.184a191.555 191.555 0 0 1 60.759 35.13l42.584-24.595a12.016 12.016 0 0 1 14.832 2.254c24.718 26.744 43.619 58.944 54.689 94.586 1.667 5.366-.592 11.175-5.459 13.985L444.788 220.9a193.485 193.485 0 0 1 0 70.2zM336 256c0-44.112-35.888-80-80-80s-80 35.888-80 80 35.888 80 80 80 80-35.888 80-80z"></path></svg></a> <div class="user-settings-menu" style="display:none;"><div class="theme-options"><!----> <!----> <div class="dark-theme-options toggle-option"><label for="dark-theme-toggle">Enable Dark Theme?</label> <input id="dark-theme-toggle" type="checkbox"></div> <!----> <!----></div></div></div> <!----> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/electronics/" class="nav-link">
  Electrónica
</a></div><div class="nav-item"><a href="/networks/" class="nav-link router-link-active">
  Redes de Computadores
</a></div><div class="nav-item"><a href="/programming/" class="nav-link">
  Programação
</a></div> <a href="https://github.com/Sebenta/eSebenta" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/electronics/" class="nav-link">
  Electrónica
</a></div><div class="nav-item"><a href="/networks/" class="nav-link router-link-active">
  Redes de Computadores
</a></div><div class="nav-item"><a href="/programming/" class="nav-link">
  Programação
</a></div> <a href="https://github.com/Sebenta/eSebenta" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Componente Teórica</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Componente Prática</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/networks/trabalhos/trabalho1.html" class="sidebar-link">Trabalho prático 1</a></li><li><a href="/networks/trabalhos/trabalho2.html" class="sidebar-link">Trabalho prático 2</a></li><li><a href="/networks/trabalhos/trabalho3.html" class="sidebar-link">Trabalho prático 3</a></li><li><a href="/networks/trabalhos/trabalho4.html" class="sidebar-link">Default Routing - Trabalho prático 4</a></li><li><a href="/networks/trabalhos/trabalho5.html" class="active sidebar-link">RIP - Trabalho prático 5</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/networks/trabalhos/trabalho5.html#primeira-implementacao" class="sidebar-link">Primeira implementação</a></li><li class="sidebar-sub-header"><a href="/networks/trabalhos/trabalho5.html#segunda-implementacao" class="sidebar-link">Segunda implementação</a></li></ul></li><li><a href="/networks/trabalhos/trabalho6.html" class="sidebar-link">RIP - Trabalho prático 6</a></li><li><a href="/networks/trabalhos/book_ospf_1.html" class="sidebar-link">OSPF - Exemplos</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="rip-trabalho-pratico-5"><a href="#rip-trabalho-pratico-5" aria-hidden="true" class="header-anchor">#</a> RIP - Trabalho prático 5</h1> <blockquote><p>Considere o seguinte cenário de rede:</p></blockquote> <p><img src="/img/redes/p5.png" alt="Cenário protocolo 5.1"></p> <blockquote><p>Considere que dispõe da rede 172.16.0.0/16 para atribuir às redes locais e a rede 10.0.0.0/24
para atribuir à ligações entre os routers.
Cada uma das redes locais deverá suportar 200 hosts ligados.</p></blockquote> <ul><li><p>Defina as redes que vai usar</p> <ul><li><p>Rede 0: 172.16.0.0/24</p></li> <li><p>Rede 1: 172.16.1.0/24</p></li> <li><p>Rede 2: 172.16.2.0/24</p></li> <li><p>Router 0 <mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.509ex" viewBox="0 -667 1000 667" style="vertical-align:0;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="21C4" d="M943 500Q895 471 856 427T801 333H778Q755 333 755 334Q755 336 762 353T791 406T841 472L848 480H459Q70 480 67 482Q55 488 55 500T67 518Q70 520 459 520H848L841 528Q813 559 792 594T763 646T755 666Q755 667 778 667H801Q817 617 856 573T943 500ZM56 167Q102 194 141 238T198 333H221Q244 333 244 332Q221 265 161 198L151 187H539Q928 187 930 186Q944 182 944 167Q944 155 934 149Q930 147 541 147H151L160 137Q185 110 205 77T235 24T244 1Q244 0 221 0H199Q158 106 56 167Z"></path></g></g></g></svg></mjx-container> Router 1: 10.0.0.0/30</p></li> <li><p>Router 1 <mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.509ex" viewBox="0 -667 1000 667" style="vertical-align:0;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="21C4" d="M943 500Q895 471 856 427T801 333H778Q755 333 755 334Q755 336 762 353T791 406T841 472L848 480H459Q70 480 67 482Q55 488 55 500T67 518Q70 520 459 520H848L841 528Q813 559 792 594T763 646T755 666Q755 667 778 667H801Q817 617 856 573T943 500ZM56 167Q102 194 141 238T198 333H221Q244 333 244 332Q221 265 161 198L151 187H539Q928 187 930 186Q944 182 944 167Q944 155 934 149Q930 147 541 147H151L160 137Q185 110 205 77T235 24T244 1Q244 0 221 0H199Q158 106 56 167Z"></path></g></g></g></svg></mjx-container> Router 2: 10.0.0.4/30</p></li> <li><p>Router 0 <mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.509ex" viewBox="0 -667 1000 667" style="vertical-align:0;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="21C4" d="M943 500Q895 471 856 427T801 333H778Q755 333 755 334Q755 336 762 353T791 406T841 472L848 480H459Q70 480 67 482Q55 488 55 500T67 518Q70 520 459 520H848L841 528Q813 559 792 594T763 646T755 666Q755 667 778 667H801Q817 617 856 573T943 500ZM56 167Q102 194 141 238T198 333H221Q244 333 244 332Q221 265 161 198L151 187H539Q928 187 930 186Q944 182 944 167Q944 155 934 149Q930 147 541 147H151L160 137Q185 110 205 77T235 24T244 1Q244 0 221 0H199Q158 106 56 167Z"></path></g></g></g></svg></mjx-container> Router 2: 10.0.0.8/30 (Segunda implementação)</p></li></ul></li></ul> <h2 id="primeira-implementacao"><a href="#primeira-implementacao" aria-hidden="true" class="header-anchor">#</a> Primeira implementação</h2> <ul><li>Apague as configurações do router.</li></ul> <p><code>Igual para todos os routers</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code>Router<span class="token operator">&gt;</span> <span class="token builtin class-name">enable</span>
Router<span class="token comment"># erase startup-config</span>
Router<span class="token comment"># reload</span>
</code></pre></div><ul><li>Entre em modo de execução privilegiada.</li> <li>Liste as interfaces do router</li></ul> <p><code>Comando é igual para todos</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code>Router<span class="token comment"># show ip interface brief</span>
</code></pre></div><p><code>O resultado pode variar de router para router</code></p> <p>Resultado:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>Interface              IP-Address      OK? Method Status                Protocol
FastEthernet0/0        unassigned      YES NVRAM  administratively down down
FastEthernet0/1        unassigned      YES NVRAM  administratively down down
Serial0/0/0            unassigned      YES NVRAM  administratively down down
Serial0/0/1            unassigned      YES NVRAM  administratively down down
Vlan1                  unassigned      YES NVRAM  administratively down down
</code></pre></div><p><code>O Comando é o mesmo para o três routers</code></p> <p>Router R0 como exemplo</p> <div class="language-bash extra-class"><pre class="language-bash"><code>Router<span class="token comment"># configure terminal</span>
Router<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># hostname R0</span>
R0<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment">#</span>
</code></pre></div><ul><li>Configure a Interfaces FastEthernet e as Interfaces Serial</li></ul> <p>Router R0</p> <div class="language-bash extra-class"><pre class="language-bash"><code>R0<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># interface fastEthernet 0/0</span>
R0<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># ip address 172.16.0.254 255.255.255.0</span>
R0<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># no shutdown</span>

R0<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># exit</span>
R0<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># interface serial 0/0/0</span>
R0<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># ip address 10.0.0.1 255.255.255.252</span>
R0<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># clock rate 64000</span>
R0<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># no shutdown</span>
</code></pre></div><p>Router R1</p> <div class="language-bash extra-class"><pre class="language-bash"><code>R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># interface fastEthernet 0/0</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># ip address 172.16.1.254 255.255.255.0</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># no shutdown</span>

R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># exit</span>

R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># interface serial 0/0/0</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># ip address 10.0.0.2 255.255.255.252</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># no shutdown</span>


R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># exit</span>

R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># interface Serial 0/0/1</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># ip address 10.0.0.5 255.255.255.252</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># clock rate 64000</span>
R1<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># no shutdown</span>
</code></pre></div><p>Router R2</p> <div class="language-bash extra-class"><pre class="language-bash"><code>R2<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># interface fastEthernet 0/0</span>
R2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># ip address 172.16.2.254 255.255.255.0</span>
R2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># no shutdown</span>

R2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># exit</span>

R2<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># interface serial 0/0/0</span>
R2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># ip address 10.0.0.6 255.255.255.252</span>
R2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># no shutdown</span>
</code></pre></div><ul><li>Ative o RIP versão 2 e adicione as redes ligadas às interfaces do tipo Serial e FastEthernet</li> <li>Coloque as interfaces FastEthernet em modo passivo. Qual é a finalidade deste comando?</li></ul> <p>Router R0</p> <div class="language-bash extra-class"><pre class="language-bash"><code>R0<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># router rip</span>
R0<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># version 2</span>
R0<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># network 172.16.0.0</span>
R0<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># network 10.0.0.0</span>
R0<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># passive-interface fastEthernet 0/0</span>
</code></pre></div><p>Router R1</p> <div class="language-bash extra-class"><pre class="language-bash"><code>R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># router rip</span>
R1<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># version 2</span>
R1<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># network 172.16.1.0</span>
R1<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># network 10.0.0.0</span>
R1<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># network 10.0.0.4</span>
R1<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># passive-interface fastEthernet 0/0</span>
</code></pre></div><p>Router R2</p> <div class="language-bash extra-class"><pre class="language-bash"><code>R2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># router rip</span>
R2<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># version 2</span>
R2<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># network 172.16.2.0</span>
R2<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># network 10.0.0.4</span>
R2<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># passive-interface fastEthernet 0/0</span>
</code></pre></div><p><code>Passive Interface:</code> O comando <em>passive-interface</em> quando aplicado a uma interface do <em>router</em> impede que sejam enviados pacotes RIP por essa interface, e assim, impede que o <em>router</em> anuncie rotas através dessa interface.</p> <ul><li>Confirme quais as rotas conhecidas pelos routers e analise a métrica de routing apresentada para cada rota</li></ul> <p>Router R0</p> <div class="language-bash extra-class"><pre class="language-bash"><code>R0<span class="token comment"># show ip route</span>
</code></pre></div><p>Resultado:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>     <span class="token number">10.0</span>.0.0/30 is subnetted, <span class="token number">2</span> subnets
C       <span class="token number">10.0</span>.0.0 is directly connected, Serial0/0/0
R       <span class="token number">10.0</span>.0.4 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.2, 00:00:23, Serial0/0/0
     <span class="token number">172.16</span>.0.0/16 is variably subnetted, <span class="token number">2</span> subnets, <span class="token number">2</span> masks
R       <span class="token number">172.16</span>.0.0/16 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.2, 00:00:23, Serial0/0/0
C       <span class="token number">172.16</span>.0.0/24 is directly connected, FastEthernet0/0
</code></pre></div><p>Router R1</p> <div class="language-bash extra-class"><pre class="language-bash"><code>R1<span class="token comment"># show ip route</span>
</code></pre></div><p>Resultado:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>     <span class="token number">10.0</span>.0.0/30 is subnetted, <span class="token number">2</span> subnets
C       <span class="token number">10.0</span>.0.0 is directly connected, Serial0/0/0
C       <span class="token number">10.0</span>.0.4 is directly connected, Serial0/0/1
     <span class="token number">172.16</span>.0.0/16 is variably subnetted, <span class="token number">2</span> subnets, <span class="token number">2</span> masks
R       <span class="token number">172.16</span>.0.0/16 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.6, 00:00:21, Serial0/0/1
                      <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.1, 00:00:06, Serial0/0/0
C       <span class="token number">172.16</span>.1.0/24 is directly connected, FastEthernet0/0
</code></pre></div><p>Router R2</p> <div class="language-bash extra-class"><pre class="language-bash"><code>R2<span class="token comment"># show ip route</span>
</code></pre></div><p>Resultado:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>     <span class="token number">10.0</span>.0.0/30 is subnetted, <span class="token number">2</span> subnets
R       <span class="token number">10.0</span>.0.0 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.5, 00:00:16, Serial0/0/0
C       <span class="token number">10.0</span>.0.4 is directly connected, Serial0/0/0
     <span class="token number">172.16</span>.0.0/16 is variably subnetted, <span class="token number">2</span> subnets, <span class="token number">2</span> masks
R       <span class="token number">172.16</span>.0.0/16 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.5, 00:00:16, Serial0/0/0
C       <span class="token number">172.16</span>.2.0/24 is directly connected, FastEthernet0/0
</code></pre></div><ul><li>Configure no Router 1 o RIP para anunciar a rota por defeito.
Anote as diferenças registadas nas tabelas e routing dos routers R0 e R2</li></ul> <p><code>Configuração do R1</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code>R<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> <span class="token builtin class-name">enable</span>

R1<span class="token comment"># configure terminal</span>

R1<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># router rip</span>
R1<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># default-information originate</span>
R1<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># end</span>

R1<span class="token comment"># show ip route</span>
</code></pre></div><p>Resultado:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>     <span class="token number">10.0</span>.0.0/30 is subnetted, <span class="token number">2</span> subnets
C       <span class="token number">10.0</span>.0.0 is directly connected, Serial0/0/0
C       <span class="token number">10.0</span>.0.4 is directly connected, Serial0/0/1
     <span class="token number">172.16</span>.0.0/16 is variably subnetted, <span class="token number">2</span> subnets, <span class="token number">2</span> masks
R       <span class="token number">172.16</span>.0.0/16 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.6, 00:00:12, Serial0/0/1
                      <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.1, 00:00:06, Serial0/0/0
C       <span class="token number">172.16</span>.1.0/24 is directly connected, FastEthernet0/0
</code></pre></div><p><code>Diferenças registadas nas tabelas e routing dos routers R0 e R2</code></p> <p>Router R0</p> <div class="language-bash extra-class"><pre class="language-bash"><code>R0<span class="token comment"># show  ip route</span>
</code></pre></div><p>Resultado:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>Gateway of last resort is <span class="token number">10.0</span>.0.2 to network <span class="token number">0.0</span>.0.0

     <span class="token number">10.0</span>.0.0/30 is subnetted, <span class="token number">2</span> subnets
C       <span class="token number">10.0</span>.0.0 is directly connected, Serial0/0/0
R       <span class="token number">10.0</span>.0.4 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.2, 00:00:22, Serial0/0/0
     <span class="token number">172.16</span>.0.0/16 is variably subnetted, <span class="token number">2</span> subnets, <span class="token number">2</span> masks
R       <span class="token number">172.16</span>.0.0/16 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.2, 00:00:22, Serial0/0/0
C       <span class="token number">172.16</span>.0.0/24 is directly connected, FastEthernet0/0
R*   <span class="token number">0.0</span>.0.0/0 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.2, 00:00:10, Serial0/0/0
</code></pre></div><p>Router R2</p> <div class="language-bash extra-class"><pre class="language-bash"><code>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> show <span class="token function">ip</span> route
</code></pre></div><p>Resultado:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>Gateway of last resort is <span class="token number">10.0</span>.0.5 to network <span class="token number">0.0</span>.0.0

     <span class="token number">10.0</span>.0.0/30 is subnetted, <span class="token number">2</span> subnets
R       <span class="token number">10.0</span>.0.0 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.5, 00:00:00, Serial0/0/0
C       <span class="token number">10.0</span>.0.4 is directly connected, Serial0/0/0
     <span class="token number">172.16</span>.0.0/16 is variably subnetted, <span class="token number">2</span> subnets, <span class="token number">2</span> masks
R       <span class="token number">172.16</span>.0.0/16 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.5, 00:00:00, Serial0/0/0
C       <span class="token number">172.16</span>.2.0/24 is directly connected, FastEthernet0/0
R*   <span class="token number">0.0</span>.0.0/0 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.5, 00:00:00, Serial0/0/0
</code></pre></div><blockquote><p>Ao definir o R1 como router padrão, R1 passa a ser o router que liga ao &quot;qualquer lado&quot;, será usado sempre que for necessário comunicar com um host de uma rede não &quot;conhecida&quot; / declarada.
Como consequência da nossa declaração, as tabelas de routing de R0 e R2 foram atualizadas pelo RIP com a informação da rota padrão.</p></blockquote> <ul><li>Analise a saída do comando &quot;show ip protocols&quot;</li></ul> <p><code>R1 como exemplo</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code>R<span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span> show <span class="token function">ip</span> protocols
</code></pre></div><p>Resultado:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>Routing Protocol is <span class="token string">&quot;rip&quot;</span>
Sending updates every <span class="token number">30</span> seconds, next due <span class="token keyword">in</span> <span class="token number">26</span> seconds
Invalid after <span class="token number">180</span> seconds, hold down <span class="token number">180</span>, flushed after <span class="token number">240</span>
Outgoing update filter list <span class="token keyword">for</span> all interfaces is not <span class="token builtin class-name">set</span>
Incoming update filter list <span class="token keyword">for</span> all interfaces is not <span class="token builtin class-name">set</span>
Redistributing: rip
Default version control: send version <span class="token number">2</span>, receive <span class="token number">2</span>
  Interface             Send  Recv  Triggered RIP  Key-chain
  Serial0/0/0           <span class="token number">2</span>     <span class="token number">2</span>
  Serial0/0/1           <span class="token number">2</span>     <span class="token number">2</span>
Automatic network summarization is <span class="token keyword">in</span> effect
Maximum path: <span class="token number">4</span>
Routing <span class="token keyword">for</span> Networks:
     <span class="token number">10.0</span>.0.0
     <span class="token number">172.16</span>.0.0
Passive Interface<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:
     FastEthernet0/0
Routing Information Sources:
     Gateway         Distance      Last Update
     <span class="token number">10.0</span>.0.6             <span class="token number">120</span>      00:00:15
     <span class="token number">10.0</span>.0.1             <span class="token number">120</span>      00:00:09
Distance: <span class="token punctuation">(</span>default is <span class="token number">120</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>O comando <em>show ip protocols</em> mostra todos os protocolos de encaminhamento configurados no <em>router</em>.</p> <p>O comando apresenta os valores dos temporizadores, as redes diretamente ligadas ao <em>router</em> e os
endereços das interfaces dos <em>routers</em> vizinhos a que está ligado.</p> <p>Protocolos em uso: RIP, versão (send and receive): 2 <mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" viewBox="0 -511 1000 522" style="vertical-align:-0.025ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g></g></g></svg></mjx-container> são a mesma para todas a interfaces</p> <p>Suas redes: 10.0.0.0; 172.16.0.0</p> <p><em>passive interfaces</em> : FastEthernet 0/0</p> <p>Interfaces dos routers vizinhos: 10.0.0.6 - 120; 10.0.0.1 - 120 <mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" viewBox="0 -511 1000 522" style="vertical-align:-0.025ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g></g></g></svg></mjx-container> 120 á a distancia administrativa padrão usada pelo RIP</p> <p><a href="https://www.cisco.com/c/en/us/support/docs/ip/border-gateway-protocol-bgp/15986-admin-distance.html" target="_blank" rel="noopener noreferrer">Default Administrative Distance (saber mais)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <ul><li>Confirme quais as rotas conhecidas pelo routers</li></ul> <p>Usar o comando <code>show ip route</code> para saber todas as rotas ou <code>show ip route rip</code> para saber só as definidas pelo RIP.</p> <p>Router R0 (todas)</p> <div class="language-bash extra-class"><pre class="language-bash"><code>     <span class="token number">10.0</span>.0.0/30 is subnetted, <span class="token number">2</span> subnets
C       <span class="token number">10.0</span>.0.0 is directly connected, Serial0/0/0
R       <span class="token number">10.0</span>.0.4 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.2, 00:00:19, Serial0/0/0
     <span class="token number">172.16</span>.0.0/16 is variably subnetted, <span class="token number">2</span> subnets, <span class="token number">2</span> masks
R       <span class="token number">172.16</span>.0.0/16 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.2, 00:00:19, Serial0/0/0
C       <span class="token number">172.16</span>.0.0/24 is directly connected, FastEthernet0/0
R*   <span class="token number">0.0</span>.0.0/0 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.2, 00:00:19, Serial0/0/0
</code></pre></div><p>Router R1 (todas)</p> <div class="language-bash extra-class"><pre class="language-bash"><code>     <span class="token number">10.0</span>.0.0/30 is subnetted, <span class="token number">2</span> subnets
C       <span class="token number">10.0</span>.0.0 is directly connected, Serial0/0/0
C       <span class="token number">10.0</span>.0.4 is directly connected, Serial0/0/1
     <span class="token number">172.16</span>.0.0/16 is variably subnetted, <span class="token number">2</span> subnets, <span class="token number">2</span> masks
R       <span class="token number">172.16</span>.0.0/16 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.6, 00:00:06, Serial0/0/1
                      <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.1, 00:00:08, Serial0/0/0
C       <span class="token number">172.16</span>.1.0/24 is directly connected, FastEthernet0/0
</code></pre></div><p>Router R2 (só RIP)</p> <div class="language-bash extra-class"><pre class="language-bash"><code>     <span class="token number">10.0</span>.0.0/30 is subnetted, <span class="token number">2</span> subnets
R       <span class="token number">10.0</span>.0.0 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.5, 00:00:14, Serial0/0/0
     <span class="token number">172.16</span>.0.0/16 is variably subnetted, <span class="token number">2</span> subnets, <span class="token number">2</span> masks
R       <span class="token number">172.16</span>.0.0/16 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.5, 00:00:14, Serial0/0/0
R*   <span class="token number">0.0</span>.0.0/0 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.5, 00:00:14, Serial0/0/0
</code></pre></div><ul><li>Grave a configuração</li></ul> <p>Pode-se usar o comando <code>copy running-config startup-config (copy run start)</code> ou <code>write memory (wr)</code>.
<a href="https://community.cisco.com/t5/routing/difference-between-quot-copy-run-start-quot-and-wr/m-p/2943355" target="_blank" rel="noopener noreferrer">Difference between &quot;copy run start&quot; and wr (saber mais)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>Verifique a conectividade entre redes utilizando o comando <code>ping</code></li></ul> <p>Abrir a linha de comandos (terminal, prompt, cmd, power shell,...) e executar o comando <code>ping _ip destino_</code> pode ver exemplos do mesmo comando nos protocolos anteriores.</p> <p>_ Verifique qual o seguido pelos pacotes utilizando o comando <code>traceroute</code></p> <p>Como exemplo PC0 <mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" viewBox="0 -511 1000 522" style="vertical-align:-0.025ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g></g></g></svg></mjx-container> PC5</p> <div class="language-bash extra-class"><pre class="language-bash"><code>C:<span class="token punctuation">\</span><span class="token operator">&gt;</span> tracert <span class="token number">172.16</span>.2.2
</code></pre></div><p>Resultado:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>Tracing route to <span class="token number">172.16</span>.2.2 over a maximum of <span class="token number">30</span> hops:

  <span class="token number">1</span>   *         <span class="token number">0</span> ms      <span class="token number">5</span> ms      <span class="token number">172.16</span>.0.254
  <span class="token number">2</span>   *         <span class="token number">0</span> ms      *         Request timed out.
  <span class="token number">3</span>   <span class="token number">56</span> ms     <span class="token number">1</span> ms      <span class="token number">1</span> ms      <span class="token number">10.0</span>.0.6
  <span class="token number">4</span>   *         *         *         Request timed out.
  <span class="token number">5</span>   <span class="token number">2</span> ms      <span class="token number">2</span> ms      <span class="token number">0</span> ms      <span class="token number">172.16</span>.2.2

Trace complete.
</code></pre></div><h2 id="segunda-implementacao"><a href="#segunda-implementacao" aria-hidden="true" class="header-anchor">#</a> Segunda implementação</h2> <p>Repita o exercício anterior para o seguinte cenário</p> <p><img src="/img/redes/p5b.png" alt="Cenário protocolo 5.2"></p> <p><code>Configura as interfaces</code></p> <p>Router R0</p> <div class="language-bash extra-class"><pre class="language-bash"><code>R<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span> <span class="token builtin class-name">enable</span>

R0<span class="token comment"># configure terminal</span>

R0<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># interface serial 0/0/1</span>

R0<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># ip address 10.0.0.9 255.255.255.252</span>
R0<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># clock rate 64000</span>
R0<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># no shutdown</span>
R0<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># end</span>
</code></pre></div><p>Router R2</p> <div class="language-bash extra-class"><pre class="language-bash"><code>R<span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> <span class="token builtin class-name">enable</span>
R2<span class="token comment"># configure terminal</span>

R2<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># interface serial 0/0/1</span>

R2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># ip address 10.0.0.10 255.255.255.252</span>
R2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># no shutdown</span>
R2<span class="token punctuation">(</span>config-if<span class="token punctuation">)</span><span class="token comment"># end</span>
</code></pre></div><p><code>Configurar o RIP</code></p> <p>Router R0</p> <div class="language-bash extra-class"><pre class="language-bash"><code>R0<span class="token comment"># configure terminal</span>

R0<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># router rip</span>

R0<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># network 10.0.0.8</span>
R0<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># end</span>
</code></pre></div><p>Router R2</p> <div class="language-bash extra-class"><pre class="language-bash"><code>R2<span class="token comment"># configure terminal</span>

R2<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token comment"># router rip</span>

R2<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># network 10.0.0.8</span>
R2<span class="token punctuation">(</span>config-router<span class="token punctuation">)</span><span class="token comment"># end</span>
</code></pre></div><ul><li>Analise a saída do comando &quot;show ip protocols&quot;</li></ul> <p>Router R0</p> <div class="language-bash extra-class"><pre class="language-bash"><code>R0<span class="token comment"># show ip protocols</span>
</code></pre></div><p>Resultado:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>Routing Protocol is <span class="token string">&quot;rip&quot;</span>
Sending updates every <span class="token number">30</span> seconds, next due <span class="token keyword">in</span> <span class="token number">8</span> seconds
Invalid after <span class="token number">180</span> seconds, hold down <span class="token number">180</span>, flushed after <span class="token number">240</span>
Outgoing update filter list <span class="token keyword">for</span> all interfaces is not <span class="token builtin class-name">set</span>
Incoming update filter list <span class="token keyword">for</span> all interfaces is not <span class="token builtin class-name">set</span>
Redistributing: rip
Default version control: send version <span class="token number">2</span>, receive <span class="token number">2</span>
  Interface             Send  Recv  Triggered RIP  Key-chain
  Serial0/0/0           <span class="token number">2</span>     <span class="token number">2</span>
  Serial0/0/1           <span class="token number">2</span>     <span class="token number">2</span>
Automatic network summarization is <span class="token keyword">in</span> effect
Maximum path: <span class="token number">4</span>
Routing <span class="token keyword">for</span> Networks:
     <span class="token number">10.0</span>.0.0
     <span class="token number">172.16</span>.0.0
Passive Interface<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:
     FastEthernet0/0
Routing Information Sources:
     Gateway         Distance      Last Update
     <span class="token number">10.0</span>.0.2             <span class="token number">120</span>      00:00:16
     <span class="token number">10.0</span>.0.10            <span class="token number">120</span>      00:00:03
Distance: <span class="token punctuation">(</span>default is <span class="token number">120</span><span class="token punctuation">)</span>
</code></pre></div><p>Router R2</p> <div class="language-bash extra-class"><pre class="language-bash"><code>R2<span class="token comment"># show ip protocols</span>
</code></pre></div><p>Resultado:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>Routing Protocol is <span class="token string">&quot;rip&quot;</span>
Sending updates every <span class="token number">30</span> seconds, next due <span class="token keyword">in</span> <span class="token number">1</span> seconds
Invalid after <span class="token number">180</span> seconds, hold down <span class="token number">180</span>, flushed after <span class="token number">240</span>
Outgoing update filter list <span class="token keyword">for</span> all interfaces is not <span class="token builtin class-name">set</span>
Incoming update filter list <span class="token keyword">for</span> all interfaces is not <span class="token builtin class-name">set</span>
Redistributing: rip
Default version control: send version <span class="token number">2</span>, receive <span class="token number">2</span>
  Interface             Send  Recv  Triggered RIP  Key-chain
  FastEthernet0/0       <span class="token number">2</span>     <span class="token number">2</span>
  Serial0/0/0           <span class="token number">2</span>     <span class="token number">2</span>
  Serial0/0/1           <span class="token number">2</span>     <span class="token number">2</span>
Automatic network summarization is <span class="token keyword">in</span> effect
Maximum path: <span class="token number">4</span>
Routing <span class="token keyword">for</span> Networks:
     <span class="token number">10.0</span>.0.0
     <span class="token number">172.16</span>.0.0
Passive Interface<span class="token punctuation">(</span>s<span class="token punctuation">)</span>:
Routing Information Sources:
     Gateway         Distance      Last Update
     <span class="token number">10.0</span>.0.5             <span class="token number">120</span>      00:00:10
     <span class="token number">10.0</span>.0.9             <span class="token number">120</span>      00:00:14
Distance: <span class="token punctuation">(</span>default is <span class="token number">120</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>A rota de Router R0 <mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" viewBox="0 -511 1000 522" style="vertical-align:-0.025ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g></g></g></svg></mjx-container> Router R2 passou a ser pelo o ip gateway <code>10.0.0.10</code>
e a rota de Router R2 <mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="2.262ex" height="1.181ex" viewBox="0 -511 1000 522" style="vertical-align:-0.025ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g></g></g></svg></mjx-container> Router R0 passou a ser pelo o ip gateway <code>10.0.0.9</code></p></blockquote> <ul><li>Confirme as rotas conhecidas pelos routers</li></ul> <p>Router R0 como exemplo</p> <div class="language-bash extra-class"><pre class="language-bash"><code>R<span class="token operator"><span class="token file-descriptor important">0</span>&gt;</span>show <span class="token function">ip</span> route
</code></pre></div><p>Resultado:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>     <span class="token number">10.0</span>.0.0/30 is subnetted, <span class="token number">3</span> subnets
C       <span class="token number">10.0</span>.0.0 is directly connected, Serial0/0/0
R       <span class="token number">10.0</span>.0.4 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.2, 00:00:24, Serial0/0/0
                 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.10, 00:00:25, Serial0/0/1
C       <span class="token number">10.0</span>.0.8 is directly connected, Serial0/0/1
     <span class="token number">172.16</span>.0.0/16 is variably subnetted, <span class="token number">2</span> subnets, <span class="token number">2</span> masks
R       <span class="token number">172.16</span>.0.0/16 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.2, 00:00:24, Serial0/0/0
C       <span class="token number">172.16</span>.0.0/24 is directly connected, FastEthernet0/0
R*   <span class="token number">0.0</span>.0.0/0 <span class="token punctuation">[</span><span class="token number">120</span>/1<span class="token punctuation">]</span> via <span class="token number">10.0</span>.0.2, 00:00:24, Serial0/0/0
</code></pre></div><ul><li>Verifique a conetividade entre as redes utilizando o comando ​ping​.</li></ul> <p><code>PC0 $\to$ PC5 como exemplo</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code>C:<span class="token punctuation">\</span><span class="token operator">&gt;</span> <span class="token function">ping</span> <span class="token number">172.16</span>.2.2
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>Pinging <span class="token number">172.16</span>.1.1 with <span class="token number">32</span> bytes of data:
Pinging <span class="token number">172.16</span>.2.2 with <span class="token number">32</span> bytes of data:

Reply from <span class="token number">172.16</span>.2.2: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">32</span> <span class="token assign-left variable">time</span><span class="token operator">=</span>2ms <span class="token assign-left variable">TTL</span><span class="token operator">=</span><span class="token number">126</span>
Reply from <span class="token number">172.16</span>.2.2: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">32</span> <span class="token assign-left variable">time</span><span class="token operator">=</span>60ms <span class="token assign-left variable">TTL</span><span class="token operator">=</span><span class="token number">126</span>
Reply from <span class="token number">172.16</span>.2.2: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">32</span> <span class="token assign-left variable">time</span><span class="token operator">=</span>1ms <span class="token assign-left variable">TTL</span><span class="token operator">=</span><span class="token number">126</span>
Reply from <span class="token number">172.16</span>.2.2: <span class="token assign-left variable">bytes</span><span class="token operator">=</span><span class="token number">32</span> <span class="token assign-left variable">time</span><span class="token operator">=</span>61ms <span class="token assign-left variable">TTL</span><span class="token operator">=</span><span class="token number">126</span>

Ping statistics <span class="token keyword">for</span> <span class="token number">172.16</span>.2.2:
    Packets: Sent <span class="token operator">=</span> <span class="token number">4</span>, Received <span class="token operator">=</span> <span class="token number">4</span>, Lost <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">(</span><span class="token number">0</span>% loss<span class="token punctuation">)</span>,
Approximate round trip <span class="token builtin class-name">times</span> <span class="token keyword">in</span> milli-seconds:
    Minimum <span class="token operator">=</span> 1ms, Maximum <span class="token operator">=</span> 61ms, Average <span class="token operator">=</span> 31ms
</code></pre></div><ul><li>Verifique qual o caminho seguido pelos pacotes utilizando o comando ​traceroute​.</li></ul> <p><code>PC0 $\to$ PC5 como exemplo</code></p> <div class="language-bash extra-class"><pre class="language-bash"><code>C:<span class="token punctuation">\</span><span class="token operator">&gt;</span>tracert <span class="token number">172.16</span>.2.2
</code></pre></div><p>Resultado</p> <div class="language-bash extra-class"><pre class="language-bash"><code>Tracing route to <span class="token number">172.16</span>.2.2 over a maximum of <span class="token number">30</span> hops:

  <span class="token number">1</span>   <span class="token number">76</span> ms     <span class="token number">0</span> ms      <span class="token number">0</span> ms      <span class="token number">172.16</span>.0.254
  <span class="token number">2</span>   *         <span class="token number">0</span> ms      <span class="token number">0</span> ms      <span class="token number">10.0</span>.0.2
  <span class="token number">3</span>   <span class="token number">0</span> ms      <span class="token number">1</span> ms      <span class="token number">0</span> ms      <span class="token number">172.16</span>.0.254
  <span class="token number">4</span>   <span class="token number">1</span> ms      <span class="token number">1</span> ms      <span class="token number">0</span> ms      <span class="token number">10.0</span>.0.2
  <span class="token number">5</span>   <span class="token number">1</span> ms      <span class="token number">1</span> ms      <span class="token number">62</span> ms     <span class="token number">172.16</span>.0.254
  <span class="token number">6</span>   <span class="token number">0</span> ms      <span class="token number">3</span> ms      <span class="token number">0</span> ms      <span class="token number">10.0</span>.0.2
  <span class="token number">7</span>   <span class="token number">3</span> ms      <span class="token number">2</span> ms      <span class="token number">177</span> ms    <span class="token number">172.16</span>.0.254
  <span class="token number">8</span>   <span class="token number">4</span> ms      <span class="token number">126</span> ms    <span class="token number">2</span> ms      <span class="token number">10.0</span>.0.2
  <span class="token number">9</span>   <span class="token number">2</span> ms      <span class="token number">2</span> ms      <span class="token number">3</span> ms      <span class="token number">172.16</span>.0.254
  <span class="token number">10</span>   <span class="token number">1</span> ms      <span class="token number">0</span> ms      <span class="token number">168</span> ms    <span class="token number">10.0</span>.0.2
  <span class="token number">11</span>   <span class="token number">107</span> ms    <span class="token number">169</span> ms    <span class="token number">1</span> ms      <span class="token number">172.16</span>.0.254
  <span class="token number">12</span>   <span class="token number">159</span> ms    <span class="token number">213</span> ms    <span class="token number">5</span> ms      <span class="token number">10.0</span>.0.2
  <span class="token number">13</span>   <span class="token number">3</span> ms      <span class="token number">3</span> ms      <span class="token number">6</span> ms      <span class="token number">172.16</span>.0.254
  <span class="token number">14</span>   <span class="token number">206</span> ms    <span class="token number">2</span> ms      <span class="token number">2</span> ms      <span class="token number">10.0</span>.0.2
  <span class="token number">15</span>   <span class="token number">1</span> ms      <span class="token number">170</span> ms    <span class="token number">592</span> ms    <span class="token number">172.16</span>.0.254
  <span class="token number">16</span>   <span class="token number">5</span> ms      <span class="token number">3</span> ms      <span class="token number">65</span> ms     <span class="token number">10.0</span>.0.2
  <span class="token number">17</span>   <span class="token number">2</span> ms      <span class="token number">64</span> ms     <span class="token number">2</span> ms      <span class="token number">172.16</span>.0.254
  <span class="token number">18</span>   <span class="token number">371</span> ms    <span class="token number">392</span> ms    <span class="token number">63</span> ms     <span class="token number">10.0</span>.0.2
  <span class="token number">19</span>   <span class="token number">1</span> ms      <span class="token number">5</span> ms      <span class="token number">4</span> ms      <span class="token number">172.16</span>.0.254
  <span class="token number">20</span>   <span class="token number">4</span> ms      <span class="token number">3</span> ms      <span class="token number">220</span> ms    <span class="token number">10.0</span>.0.2
  <span class="token number">21</span>   <span class="token number">4</span> ms      <span class="token number">125</span> ms    <span class="token number">113</span> ms    <span class="token number">172.16</span>.0.254
  <span class="token number">22</span>   <span class="token number">115</span> ms    <span class="token number">4</span> ms      <span class="token number">1</span> ms      <span class="token number">172.16</span>.2.2
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Sebenta/eSebenta/edit/master/docs/networks/trabalhos/trabalho5.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/11/2020, 8:57:22 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/networks/trabalhos/trabalho4.html" class="prev">
        Default Routing - Trabalho prático 4
      </a></span> <span class="next"><a href="/networks/trabalhos/trabalho6.html">
        RIP - Trabalho prático 6
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.e2fdf639.js" defer></script><script src="/assets/js/2.c85d2869.js" defer></script><script src="/assets/js/25.42c75a60.js" defer></script>
  </body>
</html>
