(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{362:function(e,a,t){"use strict";t.r(a);var s=t(21),o=Object(s.a)({},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"sockets"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sockets","aria-hidden":"true"}},[e._v("#")]),e._v(" Sockets")]),e._v(" "),t("p",[e._v("Originalmente a implementa√ß√£o de sockets foi feita no "),t("em",[e._v("BSD 4.2")]),e._v(" em 1983, e depois trazida para o Linux com algumas mas poucas altera√ß√µes.")]),e._v(" "),t("p",[e._v("Socket prov√™ a comunica√ß√£o entre duas pontas (fonte e destino), entre dois processos que estejam na mesma m√°quina (Unix Socket) ou na rede (TCP/IP Socket).")]),e._v(" "),t("p",[e._v("Focando nas comunica√ß√µes web, e usando o modelo TCP/IP como referencia, os sockets est√£o entre a camada de aplica√ß√£o e a camada de transporte.")]),e._v(" "),t("p",[e._v("O Socket vai funcionar como uma "),t("strong",[e._v("interface")]),e._v(" entre a camada de "),t("strong",[e._v("Aplica√ß√£o")]),e._v(" e a de "),t("strong",[e._v("Transporte")]),e._v(', possibilitando que haja uma abstra√ß√£o dos detalhes da pilha TCP/IP, e consequentemente, dando a sensa√ß√£o que os processos envolvidos na sensa√ß√£o est√£o a comunicar diretamente entre si, no entanto, ela est√° passando pela rede.\nEssa abstra√ß√£o gerada pelos Sockets √© o que chamamos de comunica√ß√£o l√≥gica. Outra forma de entender os Sockets √© que eles s√£o a "interface" de comunica√ß√£o interprocessos.')]),e._v(" "),t("p",[e._v("Todo o cliente deve conhecer o socket do servidor (ip:porta) para se comunicar, mas o servidor s√≥ vai conhecer o socket do cliente quando este realizar uma conex√£o com ele, ou seja, a conex√£o no modelo cliente-servidor √© sempre iniciada pelo cliente.")]),e._v(" "),t("p",[e._v("A porta do servidor precisa de ser previamente conhecida pelo cliente, enquanto que pro servidor n√£o importa saber previamente a porta do cliente, ele vai ter acesso a ela a quando realizar a conex√£o com o cliente.")]),e._v(" "),t("h2",{attrs:{id:"portas-que-podem-ou-nao-ser-usadas"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#portas-que-podem-ou-nao-ser-usadas","aria-hidden":"true"}},[e._v("#")]),e._v(" Portas que podem ou n√£o ser usadas")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"left"}},[e._v("Portas")]),e._v(" "),t("th",{staticStyle:{"text-align":"left"}},[e._v("Descri√ß√£o")])])]),e._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"left"}},[e._v("0-1023")]),e._v(" "),t("td",{staticStyle:{"text-align":"left"}},[e._v("well-known ports ou portas do sistema. Apenas o coadministrador pode executar um servidor que escute estas portas. S√£o atribu√≠das pela Internet Corporation for Assigned Names and Numbers (ICANN)")])]),e._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[e._v("1024-49151")]),e._v(" "),t("td",{staticStyle:{"text-align":"left"}},[e._v("portas do utilizador, ou portas registadas")])]),e._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[e._v(">49151")]),e._v(" "),t("td",{staticStyle:{"text-align":"left"}},[e._v("din√¢micas, portas privadas")])])])]),e._v(" "),t("h2",{attrs:{id:"principais-funcoes-primitivas-fornecidas"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#principais-funcoes-primitivas-fornecidas","aria-hidden":"true"}},[e._v("#")]),e._v(" Principais fun√ß√µes (primitivas) fornecidas")]),e._v(" "),t("div",{staticClass:"language-c extra-class"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("getaddrinfo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Traduz nomes para endere√ßos sockets")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("socket")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Cria um socket e retorna o descritor de arquivo")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("bind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("          "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Associa o socket a um endere√ßo socket e uma porta")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("connect")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Tenta estabelecer conex√£o com um socket")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("listen")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Coloca o socket a espera de conex√£o")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("accept")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Aceita um nova conex√£o e cria um socket")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("send")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("          "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Caso conectado, transmite mensagens ao socket")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("recv")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("          "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Recebe mensagens atrav√©s do socket")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("close")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("         "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Termina a conex√£o com o descritor de arquivo")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("shutdown")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Termina a comunica√ß√£o do socket")]),e._v("\n")])])]),t("h2",{attrs:{id:"comunicacao-cliente-servidor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#comunicacao-cliente-servidor","aria-hidden":"true"}},[e._v("#")]),e._v(" Comunica√ß√£o Cliente - Servidor")]),e._v(" "),t("h3",{attrs:{id:"servidor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#servidor","aria-hidden":"true"}},[e._v("#")]),e._v(" Servidor")]),e._v(" "),t("ul",[t("li",[e._v("Cria o Socket")]),e._v(" "),t("li",[e._v("Associa o Socket a um endere√ßo local")]),e._v(" "),t("li",[e._v("Aguarda por conexoÃÉes da parte cliente")]),e._v(" "),t("li",[e._v("Aceita conexoÃÉes")]),e._v(" "),t("li",[e._v("LeÃÇ as requisi√ß√µes")]),e._v(" "),t("li",[e._v("Envia (ou n√£o) uma resposta")]),e._v(" "),t("li",[e._v("Fecha o Socket")])]),e._v(" "),t("h3",{attrs:{id:"cliente"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cliente","aria-hidden":"true"}},[e._v("#")]),e._v(" Cliente")]),e._v(" "),t("ul",[t("li",[e._v("Cria o Socket")]),e._v(" "),t("li",[e._v("Estabelece a conexaÃÉo")]),e._v(" "),t("li",[e._v("Envia uma requisi√ß√£o")]),e._v(" "),t("li",[e._v("Aguarda (ou n√£o) a resposta")]),e._v(" "),t("li",[e._v("Fecha o Socket")])]),e._v(" "),t("h2",{attrs:{id:"saber-mais"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#saber-mais","aria-hidden":"true"}},[e._v("#")]),e._v(" Saber üìöüò¢ mais")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://blog.pantuza.com/artigos/o-que-sao-e-como-funcionam-os-sockets",target:"_blank",rel:"noopener noreferrer"}},[e._v("O que s√£o e como funcionam ps sockets"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("a",{attrs:{href:"https://docs.oracle.com/javase/tutorial/networking/sockets/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Lesson: All About Sockets"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("a",{attrs:{href:"https://www.tutorialspoint.com/unix_sockets/index.htm",target:"_blank",rel:"noopener noreferrer"}},[e._v("Learn Unix Soket"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("a",{attrs:{href:"https://www.fca.pt/pt/catalogo/informatica/sistemas-operativos/sistemas-operativos/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Sistemas Operativos"),t("OutboundLink")],1),e._v(" pag. 509")])])},[],!1,null,null,null);a.default=o.exports}}]);